:root {
  --bg: #f4f3ef;
  --panel: #fffdf7;
  --ink: #1d1b16;
  --accent: #0e6d5f;
  --danger: #b43737;
  --border: #d7d2c4;
}
* { box-sizing: border-box; }
body { margin: 0; font-family: "IBM Plex Sans", sans-serif; color: var(--ink); background: radial-gradient(circle at top right, #e8f2e6, var(--bg)); }
.fdev-body { display: grid; grid-template-columns: 260px 1fr; min-height: 100vh; }
.fdev-sidebar { border-right: 1px solid var(--border); background: #faf7ef; padding: 20px; }
.fdev-logo { font-family: "Space Grotesk", sans-serif; font-size: 28px; margin-bottom: 20px; }
.fdev-nav { display: grid; gap: 8px; }
.fdev-nav-item { display: block; padding: 10px 12px; border-radius: 10px; text-decoration: none; color: inherit; cursor: pointer; }
.fdev-nav-item.active, .fdev-nav-item:hover { background: #e2f1ed; }
.fdev-main { padding: 28px; }
.fdev-section { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 20px; }
.fdev-header-row { display: flex; justify-content: space-between; align-items: center; gap: 16px; margin-bottom: 16px; }
.fdev-btn { border: 1px solid var(--accent); background: var(--accent); color: #fff; padding: 8px 12px; border-radius: 10px; cursor: pointer; }
.fdev-btn--ghost { background: transparent; color: var(--accent); }
.fdev-btn--danger { border-color: var(--danger); color: #fff; background: var(--danger); }
.fdev-table { width: 100%; border-collapse: collapse; }
.fdev-table th, .fdev-table td { border-bottom: 1px solid var(--border); padding: 8px; text-align: left; vertical-align: top; }
.fdev-actions { display: flex; gap: 6px; flex-wrap: wrap; }
.fdev-card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 14px; }
.fdev-account-card { border: 1px solid var(--border); border-radius: 12px; background: #fff; overflow: hidden; }
.fdev-card-toggle { width: 100%; border: 0; background: #f7f3e9; padding: 14px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; text-align: left; }
.fdev-card-toggle h3 { margin: 0 0 2px 0; font-size: 18px; }
.fdev-card-toggle p { margin: 0; color: #5d5950; font-size: 13px; }
.fdev-pill { padding: 4px 10px; border-radius: 999px; font-size: 12px; border: 1px solid; }
.fdev-pill.ok { background: #e7f7f0; color: #0d6c4f; border-color: #93d8bd; }
.fdev-pill.warn { background: #fff3e5; color: #8a5a10; border-color: #e1bf8f; }
.fdev-account-details { padding: 14px; display: grid; gap: 10px; }
.fdev-meta { display: grid; gap: 4px; font-size: 14px; color: #2e2b26; }
.fdev-code-block { border: 1px solid var(--border); border-radius: 8px; background: #fbfaf7; overflow: hidden; }
.fdev-code-head { padding: 8px 10px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.fdev-code-block pre { margin: 0; padding: 10px; white-space: pre-wrap; word-break: break-word; max-height: 240px; overflow: auto; font-family: "IBM Plex Mono", monospace; font-size: 12px; }
.secret.hidden { display: none; }
.test-result-slot { min-height: 6px; }
.fdev-empty { text-align: center; padding: 28px; border: 1px dashed var(--border); border-radius: 12px; color: #3b3a36; }
.fdev-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.35); }
.hidden { display: none; }
.fdev-drawer { position: fixed; top: 0; right: 0; height: 100%; width: min(560px, 100%); background: #fff; border-left: 1px solid var(--border); transition: transform .2s ease; transform: translateX(0); overflow-y: auto; z-index: 20; }
.fdev-drawer--closed { transform: translateX(100%); }
.fdev-drawer-header { position: sticky; top: 0; background: #fff; border-bottom: 1px solid var(--border); padding: 16px; display: flex; justify-content: space-between; align-items: center; }
.fdev-drawer-body { padding: 16px; }
.fdev-form { display: grid; gap: 6px; }
.fdev-form input, .fdev-form select { border: 1px solid var(--border); border-radius: 8px; padding: 8px; }
.fdev-clone-form { max-width: 780px; }
.err { color: #9e1b1b; }
.warn { color: #8a5a10; }
.fdev-toasts { position: fixed; top: 16px; right: 16px; display: grid; gap: 8px; z-index: 30; }
.fdev-toast { background: #1d1b16; color: #fff; padding: 10px 14px; border-radius: 8px; }
.fdev-toast--error { background: #9e1b1b; }
.test-result { border-radius: 8px; padding: 10px; }
.test-result.ok { background: #e8f8f2; }
.test-result.error { background: #fdebec; }
.fdev-diff pre { margin: 0; white-space: pre-wrap; font-family: "IBM Plex Mono", monospace; }
.line.added { background: #e8f8f2; }
.line.removed { background: #fdebec; }
.repo-clone-result { margin-top: 12px; }
.clone-result { border: 1px solid var(--border); border-radius: 10px; padding: 10px; background: #fcfbf8; }
.clone-result.ok { border-color: #93d8bd; background: #e8f8f2; }
.clone-result.error { border-color: #e1a0a0; background: #fdebec; }
.clone-result pre { margin: 8px 0 0 0; white-space: pre-wrap; word-break: break-word; font-family: "IBM Plex Mono", monospace; font-size: 12px; }
/* ── List layout full-width ─────────────────────────────────── */
.fdev-list { display: grid; gap: 6px; }

.fdev-list-card { border: 1px solid var(--border); border-radius: 12px; background: #fff; overflow: hidden; }

.fdev-list-card-header { padding: 12px 16px; display: flex; align-items: center; gap: 10px; }

.fdev-list-card-toggle {
  flex: 1; background: none; border: none; cursor: pointer;
  display: flex; align-items: center; gap: 14px; text-align: left; padding: 0; min-width: 0;
}
.fdev-list-card-toggle:hover .fdev-list-card-name { color: var(--accent); }

.fdev-list-card-info { flex: 1; min-width: 0; }
.fdev-list-card-name { margin: 0 0 2px; font-size: 15px; font-weight: 600; transition: color .15s; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.fdev-list-card-sub { margin: 0; color: #5d5950; font-size: 13px; }

.fdev-list-card-chevron { flex-shrink: 0; color: #9c9890; transition: transform .2s; display: flex; align-items: center; }
.fdev-list-card-chevron.open { transform: rotate(180deg); }

.fdev-list-card-actions { display: flex; align-items: center; gap: 8px; flex-shrink: 0; }

.fdev-list-card-details { border-top: 1px solid var(--border); }
.fdev-list-card-details.hidden { display: none; }
.fdev-list-card-body { padding: 16px; display: grid; gap: 12px; }

/* Repo card meta strip */
.fdev-list-card-meta-strip { padding: 8px 16px 12px; border-top: 1px solid var(--border); display: flex; flex-wrap: wrap; gap: 12px 24px; font-size: 13px; color: #5d5950; }

.fdev-btn--sm { padding: 5px 10px; font-size: 12px; border-radius: 8px; }

/* ── Pills extras ───────────────────────────────────────────── */
.fdev-pill--purple { background: #f0eaf8; color: #6b3fa0; border-color: #c9a9e8; }

/* ── Info box (chave simples hint) ─────────────────────────── */
.fdev-info-box { background: #f5f0fd; border: 1px solid #c9a9e8; border-radius: 8px; padding: 10px 14px; font-size: 13px; color: #4a2b70; }
.fdev-info-box code { background: #e8dff7; padding: 1px 5px; border-radius: 4px; font-family: "IBM Plex Mono", monospace; }

/* ── Tipo de chave (quick-key-drawer) ───────────────────────── */
.fdev-key-type-group { display: grid; gap: 8px; }
.fdev-key-type-option { display: flex; align-items: flex-start; gap: 10px; border: 1px solid var(--border); border-radius: 8px; padding: 10px 12px; cursor: pointer; transition: border-color .15s; }
.fdev-key-type-option:has(input:checked) { border-color: var(--accent); background: #f0faf7; }
.fdev-key-type-option input { margin-top: 2px; accent-color: var(--accent); }
.fdev-key-type-option strong { display: block; font-size: 14px; }
.fdev-key-type-option small { color: #5d5950; font-size: 12px; }

/* ── Sidebar scan badge ─────────────────────────────────────── */
.fdev-scan-slot { margin-top: 16px; }
.fdev-scan-badge { background: #fff8e5; border: 1px solid #e1bf8f; border-radius: 10px; padding: 10px 12px; font-size: 12px; color: #6b4a10; display: grid; gap: 4px; }
.fdev-scan-badge svg { vertical-align: middle; }
.fdev-scan-detail { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 2px; }
.fdev-scan-detail span { background: #fef0cc; border: 1px solid #e1bf8f; border-radius: 6px; padding: 2px 6px; font-size: 11px; }

/* ── Repo status inline ─────────────────────────────────────── */
.fdev-repo-status-wrap { display: flex; align-items: center; gap: 6px; }
.fdev-repo-branch { font-size: 12px; color: #5d5950; font-family: "IBM Plex Mono", monospace; white-space: nowrap; }
.fdev-repo-status { font-size: 12px; padding: 2px 8px; border-radius: 999px; border: 1px solid; white-space: nowrap; }
.fdev-repo-status--ok { background: #e7f7f0; color: #0d6c4f; border-color: #93d8bd; }
.fdev-repo-status--dirty { background: #fff3e5; color: #8a5a10; border-color: #e1bf8f; }
.fdev-repo-status--error { background: #fdebec; color: #7a1e1e; border-color: #e1a0a0; }

/* ── Clone progress / spinner ───────────────────────────────── */
@keyframes fdev-spin { to { transform: rotate(360deg); } }
.fdev-spinner {
  display: inline-block; width: 18px; height: 18px; flex-shrink: 0;
  border: 3px solid var(--border); border-top-color: var(--accent);
  border-radius: 50%; animation: fdev-spin 0.7s linear infinite;
  vertical-align: middle;
}
.fdev-clone-running {
  display: flex; align-items: center; gap: 10px;
  padding: 12px 14px; border-radius: 8px;
  background: #f5f9ff; border: 1px solid #c5d9f5;
  color: #1a3a5c; font-size: 14px;
}

/* ── Key Manager: Pills de tipo ─────────────────────────────── */
.fdev-pill--blue   { background: #e8f0fe; color: #1a56db; border-color: #a4c2f9; }
.fdev-pill--green  { background: #e7f7f0; color: #0d6c4f; border-color: #93d8bd; }
.fdev-pill--orange { background: #fff3e5; color: #8a5a10; border-color: #e1bf8f; }

/* ── Key section no account-drawer ─────────────────────────── */
.fdev-key-section { border: 1px solid var(--border); border-radius: 10px; padding: 14px; display: grid; gap: 10px; background: #fdfcf9; }
.fdev-key-section-header { display: flex; justify-content: space-between; align-items: center; }

/* ── Toggle group (Existente / Nova Chave) ──────────────────── */
.fdev-toggle-group { display: flex; border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
.fdev-toggle-btn { border: none; background: transparent; padding: 5px 14px; cursor: pointer; font-size: 13px; color: #5d5950; transition: background .15s, color .15s; }
.fdev-toggle-btn.active { background: var(--accent); color: #fff; }

/* ── Radio group (tipo de chave) ────────────────────────────── */
.fdev-radio-group { display: flex; gap: 16px; flex-wrap: wrap; }
.fdev-radio-label { display: flex; align-items: center; gap: 6px; cursor: pointer; font-size: 14px; }
.fdev-radio-label input { accent-color: var(--accent); }

/* ── Key card: usage badge ──────────────────────────────────── */
.fdev-key-usage { font-size: 12px; color: #5d5950; }
.fdev-key-usage--used { color: #0d6c4f; }

@media (max-width: 900px) {
  .fdev-body { grid-template-columns: 1fr; }
  .fdev-sidebar { position: sticky; top: 0; z-index: 4; }
  .fdev-list-card-actions { flex-wrap: wrap; }
  .fdev-repo-status-wrap { flex-wrap: wrap; }
}
